
# Language setting
language: python

# Version number
python:
  - 2.7
  - 2.8

build:
  ci:
    - python --version

integrations:
  notifications:
      - integrationName: pranay-hipchat
        type: hipchat
        recipients:
          - '#Pillar%20of%20Autumn'
          - '#shippable'
        on_start: always
        on_success: always
        on_failure: always
        on_pull_request: always
  post_ci_trigger:
    - integrationName: pranay-project-trigger
      type: project_trigger
      payload:
        - NEXT_PROJECT=true
        - BUILD_NUM=$SHIPPABLE_JOB_NUMBER
        - URL=$BUILD_URL
        - ORG=$ORG_NAME
        - REPO=$REPO_FULL_NAME
      branches:
        only:
          - master
          - post_ci_notifications
      on_start: always
      on_success: always
      on_failure: always
      on_pull_request: always
    - integrationName: pranay-project-trigger-2
      type: project_trigger
      payload:
        - NEXT_PROJECT=true
        - BUILD_NUM=$SHIPPABLE_JOB_NUMBER
        - REPO=$REPO_FULL_NAME
      branches:
        only:
          - master
          - post_ci_notifications
      on_start: never
      on_success: change
      on_failure: change
      on_pull_request: never
